!function(n){"use strict";n(document).ready(function(){var i,e,t,a,o,r;(n("body").hasClass("post-type-page")||n("body").hasClass("post-type-post")||n("body").hasClass("post-type-my-product")||n("body").hasClass("post-type-gallery")||n("body").hasClass("post-type-product")||n("body").hasClass("post-type-dfd-author"))&&(i=function(){var t=n("#advanced-sortables .dfd-metaboxes-wrap .postbox");n(".cmb_metabox > tbody > tr",t).each(function(){var e,i=n(this),a=i.attr("data-dependancy-option"),o=i.attr("data-dependancy-value");a&&""!=a&&o&&""!=o&&((e=function(){var e=(n('[name="'+a+'"]').is('input[type="radio"]')?n('[name="'+a+'"]:checked'):n('[name="'+a+'"]')).val(),t=o.split(",");-1!=n.inArray(e,t)?i.show(500):(i.find('input[type="text"], select').val(""),i.find('input[type="radio"]:checked').removeAttr("checked").trigger("change"),i.hide(500))})(),t.on("change",'[name="'+a+'"]',function(){e()}))})},e=function(){n(".repeatable-grouping").each(function(){function e(){var e=t.find('input[type="radio"]:checked').val();a.siblings('[data-dependancy-value]:not([data-dependancy-value*="'+e+'"])').hide(500),a.siblings('[data-dependancy-value*="'+e+'"]').show(500)}var t=n(this),i=t.find('input[type="radio"]'),a=t.find(".cmb-nested-table > tbody > tr");e(),i.on("change",function(){e()})})},t=function(){"dfd-3d-parallax"==n('[class$="_hover_appear_effect"]').find("option:selected").val()?n('[class$="_hover_main_decoration"]').find("ul > li:last-child").hide(500).find('input[type="radio"]:checked').removeAttr("checked").trigger("change"):n('[class$="_hover_main_decoration"]').find("ul > li:last-child").show(500)},a="",n("body").hasClass("post-type-product")&&(a=":not(#postexcerpt)"),o=n("#normal-sortables").children(".postbox:not(#wpb_visual_composer):not(#vcwb_visual_composer):not(#woocommerce-product-data):not(#wc-memberships-product-memberships-data):not(#wpseo_meta):not(#the_grid_item_formats):not(.acf-postbox):not(#custom_content_editor):not(#pagebilder_content):not(#aioseo-settings)"+a).clone(),r=n("#advanced-sortables"),n("#normal-sortables").children(".postbox:not(#wpb_visual_composer):not(#vcwb_visual_composer):not(#woocommerce-product-data):not(#wc-memberships-product-memberships-data):not(#wpseo_meta):not(#the_grid_item_formats):not(.acf-postbox):not(#custom_content_editor):not(#pagebilder_content):not(#aioseo-settings)"+a).remove(),o.prependTo(r),r.wrapInner('<div class="dfd-metaboxes-wrap" />').prepend('<div class="dfd-metaboxes-titles" />'),n(".dfd-metaboxes-wrap .postbox",r).each(function(){var e=n(this),t=e.attr("id"),t=e.not(".acf-hidden").find(".hndle").clone().attr("class",t);e.hasClass("closed")&&e.removeClass("closed"),e.hasClass("acf-hidden")&&e.remove(),e.find(".hndle").remove(),e.find(".handlediv").remove(),t.appendTo(".dfd-metaboxes-titles",r)}),n(".dfd-metaboxes-wrap",r).find(".postbox").not(":first").hide(),i(),e(),n("body").on("cmb_add_row cmb_shift_row",function(){e()}),t(),n("body").on("change",'[class$="_hover_appear_effect"]',function(){t()}),r.on("click touchend",".dfd-metaboxes-titles > *",function(){var e=n(this),t=e.attr("class");e.addClass("active").siblings().removeClass("active"),n(".dfd-metaboxes-wrap",r).find("#"+t).show().siblings(".postbox").hide(),i()}),n(".dfd-metaboxes-titles",r).find("> *").first().click()),n('input[type="checkbox"]').each(function(){var e=n(this).siblings("label"),t=e.find(".button-animation");e.click(function(){t.toggleClass("right-active")})})})}(jQuery),window.CMB=function(i,e,d){"use strict";var c=i.cmb_l10,s=i.setTimeout,l={formfield:"",idNumber:!1,file_frames:{},repeatEls:'input:not([type="button"]),select,textarea,.cmb_media_status',metabox:function(){return l.$metabox||(l.$metabox=d("table.cmb_metabox"),l.$metabox)},init:function(){var e=l.metabox(),t=e.find(".repeatable-group");c.new_admin_style&&e.find(".cmb-spinner img").hide(),l.initPickers(e.find("input:text.cmb_timepicker"),e.find("input:text.cmb_datepicker"),e.find("input:text.cmb_colorpicker")),d("#ui-datepicker-div").wrap('<div class="cmb_element" />'),d('<p><span class="button cmb-multicheck-toggle">'+c.check_toggle+"</span></p>").insertBefore("ul.cmb_checkbox_list"),e.on("change",".cmb_upload_file",function(){l.formfield=d(this).attr("id"),d("#"+l.formfield+"_id").val("")}).on("click",".cmb-multicheck-toggle",l.toggleCheckBoxes).on("click",".cmb_upload_button",l.handleMedia).on("click",".cmb_remove_file_button",l.handleRemoveMedia).on("click",".add-group-row",l.addGroupRow).on("click",".add-row-button",l.addAjaxRow).on("click",".remove-group-row",l.removeGroupRow).on("click",".remove-row-button",l.removeAjaxRow).on("keyup paste focusout",".cmb_oembed",l.maybeOembed).on("cmb_remove_row",".repeatable-group",l.resetTitlesAndIterator),t.length&&t.filter(".sortable").each(function(){d(this).find(".remove-group-row").before('<a class="shift-rows move-up alignleft" href="#">'+c.up_arrow+'</a> <a class="shift-rows move-down alignleft" href="#">'+c.down_arrow+"</a>")}).on("click",".shift-rows",l.shiftRows).on("cmb_add_row",l.emptyValue),s(l.resizeoEmbeds,500),d(i).on("resize",l.resizeoEmbeds)},resetTitlesAndIterator:function(){d(".repeatable-group").each(function(){var i=d(this);i.find(".repeatable-grouping").each(function(e){var t=d(this);t.data("iterator",e),t.find(".cmb-group-title h4").text(i.find(".add-group-row").data("grouptitle").replace("{#}",e+1))})})},toggleCheckBoxes:function(e){e.preventDefault();var t=d(this),e=t.parents("td").find("input[type=checkbox]");t.data("checked")?(e.prop("checked",!1),t.data("checked",!1)):(e.prop("checked",!0),t.data("checked",!0))},handleMedia:function(e){var t,i,a,o,r,n,s;wp&&(e.preventDefault(),t=l.metabox(),e=d(this),l.formfield=e.prev("input").attr("id"),i=d("#"+l.formfield),a=i.attr("name"),r=o=!0,n=e.hasClass("cmb_upload_list"),l.formfield in l.file_frames||(l.file_frames[l.formfield]=wp.media.frames.file_frame=wp.media({title:t.find("label[for="+l.formfield+"]").text(),button:{text:c.upload_file},multiple:!!n}),s={list:function(e){r=e.toJSON(),i.val(r.url),d("#"+l.formfield+"_id").val(r.id);var t=[];d(r).each(function(){o=this.type&&"image"===this.type?'<li class="img_status"><img width="50" height="50" src="'+this.url+'" class="attachment-50x50" alt="'+this.filename+'"><p><a href="#" class="cmb_remove_file_button" rel="'+l.formfield+"["+this.id+']">'+c.remove_image+'</a></p><input type="hidden" id="filelist-'+this.id+'" name="'+a+"["+this.id+']" value="'+this.url+'"></li>':"<li>"+c.file+" <strong>"+this.filename+'</strong>&nbsp;&nbsp;&nbsp; (<a href="'+this.url+'" target="_blank" rel="external">'+c.download+'</a> / <a href="#" class="cmb_remove_file_button" rel="'+l.formfield+"["+this.id+']">'+c.remove_file+'</a>)<input type="hidden" id="filelist-'+this.id+'" name="'+a+"["+this.id+']" value="'+this.url+'"></li>',t.push(o)}),d(t).each(function(){i.siblings(".cmb_media_status").slideDown().append(this)})},single:function(e){r=e.first().toJSON(),i.val(r.url),d("#"+l.formfield+"_id").val(r.id),o=r.type&&"image"===r.type?'<div class="img_status"><img src="'+r.url+'" alt="'+r.filename+'" title="'+r.filename+'" /><p><a href="#" class="cmb_remove_file_button" rel="'+l.formfield+'">'+c.remove_image+"</a></p></div>":c.file+" <strong>"+r.filename+'</strong>&nbsp;&nbsp;&nbsp; (<a href="'+r.url+'" target="_blank" rel="external">'+c.download+'</a> / <a href="#" class="cmb_remove_file_button" rel="'+l.formfield+'">'+c.remove_file+"</a>)",i.siblings(".cmb_media_status").slideDown().html(o)}},l.file_frames[l.formfield].on("select",function(){var e=l.file_frames[l.formfield].state().get("selection");s[n?"list":"single"](e)})),l.file_frames[l.formfield].open())},handleRemoveMedia:function(e){e.preventDefault();var t=d(this);if(t.is(".attach_list .cmb_remove_file_button"))return t.parents("li").remove(),!1;l.formfield=t.attr("rel");e=t.parents(".img_status");return l.metabox().find("input#"+l.formfield).val(""),l.metabox().find("input#"+l.formfield+"_id").val(""),(e.length?e:t.parents(".cmb_media_status")).html(""),!1}};return d.fn.replaceText=function(o,r,n){return this.each(function(){var e,t,i=this.firstChild,a=[];if(i)for(;3===i.nodeType&&(e=i.nodeValue,t=e.replace(o,r),t!==e&&(!n&&/</.test(t)?(d(i).before(t),a.push(i)):i.nodeValue=t)),i=i.nextSibling;);a.length&&d(a).remove()})},d.fn.cleanRow=function(s,e){var t=d(this),i=t.find('input:not([type="button"]), select, textarea, label');return e&&t.find(".cmb-repeat-table .repeat-row:not(:first-child)").remove(),l.$focus=!1,l.neweditor_id=[],i.filter(":checked").removeAttr("checked"),i.filter(":selected").removeAttr("selected"),t.find(".cmb-group-title")&&t.find(".cmb-group-title h4").text(t.data("title").replace("{#}",l.idNumber+1)),i.each(function(){var e,t,i,a=d(this),o=a.hasClass("wp-editor-area"),r=a.attr("for"),n={};n=r?{for:r.replace("_"+s,"_"+l.idNumber)}:(r=(i=a.attr("name"))?i.replace("["+s+"]","["+l.idNumber+"]"):"",t=(e=a.attr("id"))?e.replace("_"+s,"_"+l.idNumber):"",i=a.is('input[type="radio"]')?a.val():"",{id:t,name:r,"data-iterator":l.idNumber,value:i}),a.removeClass("hasDatepicker").attr(n),o&&(t=t?e.replace("zx"+s,"zx"+l.idNumber):"",a.html(""),(n=a.parents(".cmb-type-wysiwyg")).find(".mce-tinymce:not(:first-child)").remove(),o=n.html().replace(new RegExp(e,"g"),t),n.html(o),l.neweditor_id.push({id:t,old:e})),l.$focus=l.$focus||a}),this},d.fn.newRowHousekeeping=function(){var e=d(this),t=e.find(".wp-picker-container"),e=e.find(".cmb_media_status");return t.length&&t.each(function(){var e=d(this).parent();e.html(e.find("input:text.cmb_colorpicker").attr("style",""))}),e.length&&e.empty(),this},l.afterRowInsert=function(e){if(l.$focus&&l.$focus.focus(),l.neweditor_id.length)for(var t=l.neweditor_id.length-1;0<=t;t--){var i=l.neweditor_id[t].id,a=l.neweditor_id[t].old;if(void 0===tinyMCEPreInit.mceInit[i]){var o=jQuery.extend({},tinyMCEPreInit.mceInit[a]);for(var r in o)"string"==typeof o[r]&&(o[r]=o[r].replace(new RegExp(a,"g"),i));tinyMCEPreInit.mceInit[i]=o}if(void 0===tinyMCEPreInit.qtInit[i]){var n=jQuery.extend({},tinyMCEPreInit.qtInit[a]);for(r in n)"string"==typeof n[r]&&(n[r]=n[r].replace(new RegExp(a,"g"),i));tinyMCEPreInit.qtInit[i]=n}tinyMCE.init({id:tinyMCEPreInit.mceInit[i]})}l.initPickers(e.find("input:text.cmb_timepicker"),e.find("input:text.cmb_datepicker"),e.find("input:text.cmb_colorpicker"))},l.updateNameAttr=function(){var e=d(this),t=e.attr("name");if(void 0===t)return!1;var i=parseInt(e.parents(".repeatable-grouping").data("iterator")),a=i-1,a=t.replace("["+i+"]","["+a+"]");e.attr("name",a)},l.emptyValue=function(e,t){d('input:not([type="button"]):not([type="radio"]):not([type="checkbox"]), textarea',t).val(""),d('input[type="radio"], input[type="checkbox"]',t).removeAttr("checked")},l.addGroupRow=function(e){e.preventDefault();var t=d(this),i=d("#"+t.data("selector")),a=i.find(".repeatable-grouping").last(),o=parseInt(a.data("iterator"));l.idNumber=o+1;e=a.clone();e.data("title",t.data("grouptitle")).newRowHousekeeping().cleanRow(o,!0);e=d('<tr class="repeatable-grouping" data-iterator="'+l.idNumber+'">'+e.html()+"</tr>");a.after(e),l.afterRowInsert(e),i.find(".repeatable-grouping").length<=1?i.find(".remove-group-row").prop("disabled",!0):i.find(".remove-group-row").removeAttr("disabled"),i.trigger("cmb_add_row",e),d("body").trigger("cmb_add_row")},l.addAjaxRow=function(e){e.preventDefault();var t="#"+d(this).data("selector"),i=d(t),a=i.find(".empty-row"),e=parseInt(a.find("[data-iterator]").data("iterator"));l.idNumber=e+1;t=a.clone();t.newRowHousekeeping().cleanRow(e),a.removeClass("empty-row").addClass("repeat-row"),a.after(t),l.afterRowInsert(t),i.trigger("cmb_add_row",t),d("body").trigger("cmb_add_row")},l.removeGroupRow=function(e){e.preventDefault();var t=d(this),i=d("#"+t.data("selector")),e=t.parents(".repeatable-grouping"),t=i.find(".repeatable-grouping").length;e.nextAll(".repeatable-grouping").find(l.repeatEls).each(l.updateNameAttr),1<t&&(e.remove(),t<3?i.find(".remove-group-row").prop("disabled",!0):i.find(".remove-group-row").prop("disabled",!1),i.trigger("cmb_remove_row"))},l.removeAjaxRow=function(e){e.preventDefault();var t=d(this),i=t.parents("tr"),e=t.parents(".cmb-repeat-table");1<e.find("tr").length&&(i.hasClass("empty-row")&&i.prev().addClass("empty-row").removeClass("repeat-row"),t.parents(".cmb-repeat-table tr").remove(),e.trigger("cmb_remove_row"))},l.shiftRows=function(e){e.preventDefault();var a,t=d(this),e=t.parents(".repeatable-grouping"),t=t.hasClass("move-up")?e.prev(".repeatable-grouping"):e.next(".repeatable-grouping");t.length&&(a=[],e.find(l.repeatEls).each(function(){var e,t=d(this);t.hasClass("cmb_media_status")?e=t.html():"checkbox"===t.attr("type")?(e=t.is(":checked"),l.log("checked",e)):"select"===t.prop("tagName")?(e=t.is(":selected"),l.log("checked",e)):e=t.val(),a.push({val:e,$:t})}),t.find(l.repeatEls).each(function(e){var t,i=d(this);i.hasClass("cmb_media_status")?(t=i.html(),i.html(a[e].val),a[e].$.html(t)):"checkbox"===i.attr("type")?(a[e].$.prop("checked",i.is(":checked")),i.prop("checked",a[e].val)):"select"===i.prop("tagName")?(a[e].$.prop("selected",i.is(":selected")),i.prop("selected",a[e].val)):(a[e].$.val(i.val()),i.val(a[e].val))}),d("body").trigger("cmb_shift_row"))},l.initPickers=function(e,t,i){l.initTimePickers(e),l.initDatePickers(t),l.initColorPickers(i)},l.initTimePickers=function(e){e.length&&e.timePicker({startTime:"00:00",endTime:"23:59",show24Hours:!1,separator:":",step:30})},l.initDatePickers=function(e){e.length&&(e.datepicker("destroy"),e.datepicker())},l.initColorPickers=function(e){e.length&&("object"==typeof jQuery.wp&&"function"==typeof jQuery.wp.wpColorPicker?e.wpColorPicker():e.each(function(e){d(this).after('<div id="picker-'+e+'" style="z-index: 1000; background: #EEE; border: 1px solid #CCC; position: absolute; display: block;"></div>'),d("#picker-"+e).hide().farbtastic(d(this))}).focus(function(){d(this).next().show()}).blur(function(){d(this).next().hide()}))},l.maybeOembed=function(i){var t=d(this);({focusout:function(){s(function(){l.spinner(".postbox table.cmb_metabox",!0)},2e3)},keyup:function(){function e(e,t){return i.which<=t&&i.which>=e}(e(48,90)||e(96,111)||e(8,9)||187===i.which||190===i.which)&&l.doAjax(t,i)},paste:function(){s(function(){l.doAjax(t)},100)}})[i.type]()},l.resizeoEmbeds=function(){l.metabox().each(function(){var e=d(this),t=e.parents(".inside");if(!t.length)return!0;var o=Math.round(.82*t.width()*.97)-30;if(639<o)return!0;e=e.find(".cmb-type-oembed .embed_status").children().not(".cmb_remove_wrapper");return!e.length||void e.each(function(){var e=d(this),t=e.width(),i=e.height(),a=o;e.parents(".repeat-row").length&&(a=o-91);t=Math.round(a*i/t);e.width(a).height(t)})})},l.log=function(){c.script_debug&&console&&"function"==typeof console.log&&console.log.apply(console,arguments)},l.spinner=function(e,t){t?d(".cmb-spinner",e).hide():d(".cmb-spinner",e).show()},l.doAjax=function(e){var t,i,a,o,r,n=e.val();n.length<6||(t=e.attr("id"),i=(i=e.parents(".cmb-repeat-table  tr td")).length?i:e.parents(".cmb_metabox tr td"),a=d(".embed_status",i),o=e.width(),r=d(":first-child",a),l.log("oembed_url",n,t),o=(a.length&&r.length?r:e).width(),l.spinner(i),d(".embed_wrap",i).html(""),s(function(){d(".cmb_oembed:focus").val()===n&&d.ajax({type:"post",dataType:"json",url:c.ajaxurl,data:{action:"cmb_oembed_handler",oembed_url:n,oembed_width:300<o?o:300,field_id:t,object_id:e.data("objectid"),object_type:e.data("objecttype"),cmb_ajax_nonce:c.ajax_nonce},success:function(e){l.log(e),void 0!==e.id&&(l.spinner(i,!0),d(".embed_wrap",i).html(e.result))}})},500))},d(e).ready(l.init),l}(window,document,jQuery),function(n){"use strict";n(document).ready(function(){function e(){+t.val()<7?(o.show(),r.show()):(o.hide(),r.hide()),"0"==t.val()||"1"==t.val()||"2"==t.val()?(i.parents("tr").show(),a.parents("tr").show()):(i.parents("tr").hide(),a.parents("tr").hide())}var t=n("#dfd_headers_header_style"),i=n("#dfd_headers_logo_position"),a=n("#dfd_headers_menu_position"),o=n(".cmb_id_dfd_headers_show_side_area"),r=n(".cmb_id_dfd_headers_show_top_inner_page");e(),t.on("change",e),n("#editor-expand-toggle").is(":checked")&&n("#editor-expand-toggle").click()})}(jQuery);